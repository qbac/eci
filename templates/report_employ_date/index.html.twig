{% extends 'base.html.twig' %}

{% block title %}Hello ReportEmployDateController!{% endblock %}

{% block body %}
<h1>Raport - czas pracy Według sposobu zatrunienia</h1>
{% form_theme reportEmployDateForm 'bootstrap_4_layout.html.twig' %}
{{form_start(reportEmployDateForm)}}
    {{form_row(reportEmployDateForm.employ)}}
    {{form_row(reportEmployDateForm.work_date_start)}}
    {{form_row(reportEmployDateForm.work_date_end)}}
    <button type="submit" class="btn btn-primary mt-3">Pokaż</button>
{{form_end(reportEmployDateForm)}}

{% if visibleResult == true %}

<h2 class="mt-3">Podsumowanie</h2>
<div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">Imię i Nazwisko</th>
              <th scope="col">Suma przepracowanych godzin</th>
            </tr>
          </thead>
          <tbody>
          {% for rowResultSum in resultReportSum %}
          <tr>
              <td>{{rowResultSum.first_name}} {{rowResultSum.last_name}}</td>
              <td>{{rowResultSum.sum_work_time}}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>

<h2 class="mt-3">Ilość przepracowanych godzin</h2>
<div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">Data</th>
              <th scope="col">Projekt</th>
              <th scope="col">Ilość przepracowanych godzin</th>
            </tr>
          </thead>
          <tbody>
          {% for rowResultDay in resultReportDays %}
          <tr>
              <td>{{rowResultDay.work_date}}</td>
              <td>{{rowResultDay.name}}</td>
              <td>{{rowResultDay.work_time}}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
{% endif %}
{% endblock %}
